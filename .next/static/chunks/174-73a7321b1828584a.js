"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{283:(e,s,t)=>{t.d(s,{A:()=>i,AuthProvider:()=>o});var r=t(5155),a=t(2115),l=t(5695);let n=(0,a.createContext)(void 0);function i(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function o(e){let{children:s,walletManager:i}=e,[o,c]=(0,a.useState)(null),[d,h]=(0,a.useState)(!1),[x,m]=(0,a.useState)(!0),[y,u]=(0,a.useState)({isConnected:!1,address:null,provider:null,signer:null}),p=(0,l.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("user");if(e){let s=JSON.parse(e);c(s),h(!0)}}catch(e){console.error("Session check error:",e)}finally{m(!1)}})()},[]);let f=async function(e,s){arguments.length>2&&void 0!==arguments[2]&&arguments[2],m(!0);try{let t=localStorage.getItem("registeredUsers"),r=t?JSON.parse(t):{};if(!r[e])throw Error("User not found. Please sign up first.");if(r[e].password!==s)throw Error("Invalid password. Please try again.");let a={address:r[e].address||"0x0000000000000000000000000000000000000000",username:r[e].username,email:e,totalEarnings:r[e].totalEarnings||0,totalPurchases:r[e].totalPurchases||0,totalSales:r[e].totalSales||0,joinDate:r[e].joinDate};localStorage.setItem("user",JSON.stringify(a)),c(a),h(!0)}catch(e){throw console.error("Login error:",e),e}finally{m(!1)}},g=async(e,s,t)=>{m(!0);try{let r=localStorage.getItem("registeredUsers"),a=r?JSON.parse(r):{};if(a[e])throw Error("User with this email already exists. Please log in instead.");let l={username:s,password:t,address:"0x0000000000000000000000000000000000000000",totalEarnings:0,totalPurchases:0,totalSales:0,joinDate:new Date().toISOString()};a[e]=l,localStorage.setItem("registeredUsers",JSON.stringify(a));let n={address:l.address,username:s,email:e,totalEarnings:l.totalEarnings,totalPurchases:l.totalPurchases,totalSales:l.totalSales,joinDate:l.joinDate};localStorage.setItem("user",JSON.stringify(n)),c(n),h(!0)}catch(e){throw console.error("Signup error:",e),e}finally{m(!1)}},j=async e=>{try{return await new Promise(e=>setTimeout(e,1e3)),console.log("Password reset requested for ".concat(e)),Promise.resolve()}catch(e){throw console.error("Reset password error:",e),e}},v=async e=>{try{return await new Promise(e=>setTimeout(e,500)),!0}catch(e){return console.error("Verify token error:",e),!1}},w=async(e,s)=>{try{return await new Promise(e=>setTimeout(e,1e3)),console.log("Password reset confirmed with token ".concat(e)),Promise.resolve()}catch(e){throw console.error("Confirm reset error:",e),e}},N=async()=>{try{let{walletManager:e}=await Promise.all([t.e(88),t.e(464)]).then(t.bind(t,6464)),s=await e.connect();if(u(s),d&&o){let e={...o,address:s.address||""};c(e),localStorage.setItem("user",JSON.stringify(e))}return s}catch(e){throw console.error("Wallet connection error:",e),e}},k=async()=>{try{let{walletManager:e}=await Promise.all([t.e(88),t.e(464)]).then(t.bind(t,6464)),s=await e.disconnect();if(u(s),d&&o){let e={...o,address:""};c(e),localStorage.setItem("user",JSON.stringify(e))}return s}catch(e){throw console.error("Wallet disconnection error:",e),e}},b=async e=>{if(!o)throw Error("No user logged in");try{let s={...o,...e};c(s),localStorage.setItem("user",JSON.stringify(s))}catch(e){throw console.error("Profile update error:",e),e}},A={user:o,isAuthenticated:d,isLoading:x,walletState:y,isWalletConnected:y.isConnected,walletAddress:y.address,login:f,signup:g,logout:()=>{localStorage.removeItem("user"),c(null),h(!1),y.isConnected&&k(),p.push("/")},resetPassword:j,verifyResetToken:v,confirmPasswordReset:w,connectWallet:N,disconnectWallet:k,updateProfile:b};return(0,r.jsx)(n.Provider,{value:A,children:s})}},1007:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2174:(e,s,t)=>{t.d(s,{A:()=>v});var r=t(5155),a=t(2115),l=t(6874),n=t.n(l),i=t(4213),o=t(9946);let c=(0,o.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var d=t(1007),h=t(9785);let x=(0,o.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),m=(0,o.A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),y=(0,o.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var u=t(4416);let p=(0,o.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var f=t(5695),g=t(3568),j=t(283);function v(){let{isConnected:e,onConnect:s,onDisconnect:t,userAddress:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[o,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),k=(0,f.useRouter)(),{isAuthenticated:b,isWalletConnected:A,walletAddress:S,connectWallet:C,disconnectWallet:P,logout:M,user:E}=(0,j.A)();(0,a.useEffect)(()=>{let e=()=>{N(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let I=async()=>{try{C?await C():s&&await s(),g.Ay.success("Wallet connected successfully!")}catch(e){g.Ay.error("Failed to connect wallet")}},D=()=>{P?P():t&&t(),g.Ay.success("Wallet disconnected")},O=()=>{M&&(M(),g.Ay.success("Logged out successfully"),k.push("/"))},H=A||e,J=S||l||"",W=e=>"".concat(e.slice(0,6),"...").concat(e.slice(-4));return(0,r.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(w?"bg-white/95 backdrop-blur-md shadow-lg":"bg-white"),children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)(n(),{href:"/",className:"flex items-center space-x-2 hover-lift",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg flex items-center justify-center pulse",children:(0,r.jsx)(i.A,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"BlockMarketAI"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-8 fade-in",children:[(0,r.jsxs)(n(),{href:"/",className:"flex items-center space-x-1 text-gray-700 hover:text-primary-600 transition-colors hover-lift",children:[(0,r.jsx)(c,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Home"})]}),(0,r.jsx)(n(),{href:"/marketplace",className:"text-gray-700 hover:text-primary-600 transition-colors hover-lift",children:"Marketplace"}),(0,r.jsx)(n(),{href:"/dashboard",className:"text-gray-700 hover:text-primary-600 transition-colors hover-lift",children:"Dashboard"}),(0,r.jsx)(n(),{href:"/about",className:"text-gray-700 hover:text-primary-600 transition-colors hover-lift",children:"About"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4 fade-in",children:[b?(0,r.jsxs)("div",{className:"flex items-center space-x-3 slide-in-right",children:[(0,r.jsxs)(n(),{href:"/profile",className:"flex items-center space-x-2 bg-gray-100 px-3 py-2 rounded-lg hover-lift",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-primary-600"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null==E?void 0:E.username)||"Profile"})]}),H&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 px-3 py-2 rounded-lg hover-lift",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 text-primary-600 pulse"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:W(J)})]}),(0,r.jsxs)("button",{onClick:O,className:"btn-secondary text-sm hover-lift flex items-center space-x-1",children:[(0,r.jsx)(x,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"Logout"})]})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-3 slide-in-right",children:[(0,r.jsxs)(n(),{href:"/login",className:"btn-secondary flex items-center space-x-2 hover-lift",children:[(0,r.jsx)(m,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Login"})]}),(0,r.jsxs)(n(),{href:"/signup",className:"btn-primary flex items-center space-x-2 hover-lift",children:[(0,r.jsx)(y,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Sign Up"})]})]}),b&&(0,r.jsx)("div",{children:H?(0,r.jsx)("button",{onClick:D,className:"btn-secondary text-sm hover-lift",children:"Disconnect Wallet"}):(0,r.jsxs)("button",{onClick:I,className:"btn-primary flex items-center space-x-2 slide-in-right hover-lift",children:[(0,r.jsx)(h.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Connect Wallet"})]})})]}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)("button",{onClick:()=>v(!o),className:"text-gray-700 hover:text-primary-600 transition-colors hover-lift",children:o?(0,r.jsx)(u.A,{className:"w-6 h-6"}):(0,r.jsx)(p,{className:"w-6 h-6"})})})]}),o&&(0,r.jsx)("div",{className:"md:hidden slide-up",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white border-t border-gray-200",children:[(0,r.jsxs)(n(),{href:"/",className:"flex items-center space-x-2 px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors slide-in-left delay-100",onClick:()=>v(!1),children:[(0,r.jsx)(c,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Home"})]}),(0,r.jsx)(n(),{href:"/marketplace",className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors slide-in-left delay-200",onClick:()=>v(!1),children:"Marketplace"}),(0,r.jsx)(n(),{href:"/dashboard",className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors slide-in-left delay-300",onClick:()=>v(!1),children:"Dashboard"}),(0,r.jsx)(n(),{href:"/about",className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors slide-in-left delay-400",onClick:()=>v(!1),children:"About"}),(0,r.jsx)("div",{className:"pt-4 border-t border-gray-200 slide-up delay-500",children:b?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)(n(),{href:"/profile",className:"flex items-center space-x-2 bg-gray-100 px-3 py-2 rounded-lg hover-lift",onClick:()=>v(!1),children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-primary-600"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null==E?void 0:E.username)||"Profile"})]}),H&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 px-3 py-2 rounded-lg hover-lift",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 text-primary-600 pulse"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:W(J)})]}),H?(0,r.jsx)("button",{onClick:()=>{D(),v(!1)},className:"w-full btn-secondary text-sm hover-lift",children:"Disconnect Wallet"}):(0,r.jsxs)("button",{onClick:()=>{I(),v(!1)},className:"w-full btn-primary flex items-center justify-center space-x-2 hover-lift",children:[(0,r.jsx)(h.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Connect Wallet"})]}),(0,r.jsxs)("button",{onClick:()=>{O(),v(!1)},className:"w-full btn-secondary text-sm hover-lift flex items-center justify-center space-x-2",children:[(0,r.jsx)(x,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:"Logout"})]})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(n(),{href:"/login",className:"w-full btn-secondary flex items-center justify-center space-x-2 hover-lift",onClick:()=>v(!1),children:[(0,r.jsx)(m,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Login"})]}),(0,r.jsxs)(n(),{href:"/signup",className:"w-full btn-primary flex items-center justify-center space-x-2 hover-lift",onClick:()=>v(!1),children:[(0,r.jsx)(y,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Sign Up"})]})]})})]})})]})})}},4213:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(9946).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},4416:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9785:(e,s,t)=>{t.d(s,{A:()=>r});let r=(0,t(9946).A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])}}]);